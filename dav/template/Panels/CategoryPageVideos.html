<script type="text/javascript">
//Category Page Demo Videos 
        $('<style type="text/css">\
        /* Category Product List Video */\
        .SearchContainer .ProductList li {\
            overflow: visible;\
            /*width: 310px;*/\
            width: 33%;\
        }\
        .categoryDemoVideo {\
            position: absolute;\
            top: 0;\
            left: 0;\
            right: 0;\
            bottom: 0;\
            height: 100%;\
            background-color: #fff;\
        }\
        .categoryDemoVideo video {\
            height: 100%;\
            width: 100%;\
        }\
        .categoryDemoVideo video::-webkit-media-controls {\
            width: 100%;\
        }\
        .Rating.Rating0 {\
            display: none !important;\
        }\
        .videoDemoBtn {\
            width: 36px;\
            height: 36px;\
            position: absolute;\
            cursor: pointer;\
            z-index: 90;\
            display: block;\
            background-color: #39B54A;\
            background-color: #6ADA78;\
            top:0;\
            right:0;\
        }\
        .videoDemoBtn.videoPlaying {\
            background-color: #e53b2c;\
        }\
        .videoDemoBtn .triangle {\
            width: 0px;\
            height: 0px;\
            left: 13px;\
            top: 6px;\
            position: absolute;\
            border-top: 6px solid transparent;\
            border-bottom: 7px solid transparent;\
            border-left: 12px solid #fff;\
            z-index: 1;\
            border-radius: 2px;\
            color: #fff;\
        }\
        .videoDemoBtn .triangle:after {\
            content: "DEMO";\
            position: absolute;\
            text-transform: uppercase;\
            left: -17px;\
            top: 9px;\
            font-size: 8px;\
        }\
        .videoDemoBtn.videoPlaying .triangle {\
            border: 6px solid #fff;\
            left: 12px;\
        }\
        .videoDemoBtn.videoPlaying .triangle:after {\
            left: -10px;\
        }\
        </style>')
            .appendTo('head');

	var DankStopGlossary = {
  "videos": {
    "78": "yes",
    "79": "yes",
    "82": "yes",
    "91": "yes",
    "92": "yes",
    "97": "yes",
    "98": "yes",
    "99": "yes",
    "102": "yes",
    "189": "yes",
    "190": "yes",
    "191": "yes",
    "208": "yes",
    "238": "yes",
    "247": "yes",
    "253": "yes",
    "284": "yes",
    "287": "yes",
    "288": "yes",
    "289": "yes",
    "305": "yes",
    "306": "yes",
    "308": "yes",
    "312": "yes",
    "383": "yes",
    "398": "yes",
    "400": "yes",
    "401": "yes",
    "404": "yes",
    "418": "yes",
    "429": "yes",
    "430": "yes",
    "431": "yes",
    "436": "yes",
    "438": "yes",
    "442": "yes",
    "443": "yes",
    "444": "yes",
    "445": "yes",
    "449": "yes",
    "450": "yes",
    "451": "yes",
    "452": "yes",
    "454": "yes",
    "455": "yes",
    "456": "yes",
    "457": "yes",
    "458": "yes",
    "459": "yes",
    "470": "yes",
    "484": "yes",
    "487": "yes",
    "489": "yes",
    "505": "yes",
    "515": "yes",
    "518": "yes",
    "527": "yes",
    "528": "yes",
    "529": "yes",
    "531": "yes",
    "532": "yes",
    "534": "yes",
    "535": "yes",
    "536": "yes",
    "537": "yes",
    "539": "yes",
    "540": "yes",
    "541": "yes",
    "542": "yes",
    "543": "yes",
    "544": "yes",
    "545": "yes",
    "549": "yes",
    "550": "yes",
    "551": "yes",
    "552": "yes",
    "553": "yes",
    "554": "yes",
    "555": "yes",
    "556": "yes",
    "557": "yes",
    "558": "yes",
    "559": "yes",
    "560": "yes",
    "561": "yes",
    "563": "yes",
    "564": "yes",
    "565": "yes",
    "569": "yes",
    "570": "yes",
    "573": "yes",
    "576": "yes",
    "577": "yes",
    "578": "yes",
    "580": "yes",
    "581": "yes",
    "586": "yes",
    "587": "yes",
    "588": "yes",
    "589": "yes",
    "596": "yes",
    "597": "yes",
    "598": "yes",
    "599": "yes",
    "602": "yes",
    "607": "yes",
    "608": "yes",
    "609": "yes",
    "610": "yes",
    "611": "yes",
    "612": "yes",
    "613": "yes",
    "614": "yes",
    "615": "yes",
    "616": "yes",
    "620": "yes",
    "621": "yes",
    "622": "yes",
    "623": "yes",
    "624": "yes",
    "625": "yes",
    "627": "yes",
    "638": "yes",
    "656": "yes",
    "658": "yes",
    "660": "yes",
    "662": "yes",
    "663": "yes",
    "668": "yes",
    "670": "yes",
    "672": "yes",
    "673": "yes",
    "674": "yes",
    "675": "yes",
    "678": "yes",
    "679": "yes",
    "688": "yes",
    "690": "yes",
    "691": "yes",
    "692": "yes",
    "693": "yes",
    "694": "yes",
    "695": "yes",
    "697": "yes",
    "699": "yes",
    "700": "yes",
    "705": "yes",
    "706": "yes",
    "707": "yes",
    "724": "yes",
    "725": "yes",
    "728": "yes",
    "729": "yes",
    "730": "yes",
    "731": "yes",
    "733": "yes",
    "742": "yes",
    "755": "yes",
    "769": "yes",
    "770": "yes",
    "778": "yes",
    "780": "yes",
    "781": "yes",
    "782": "yes",
    "783": "yes",
    "787": "yes",
    "791": "yes",
    "792": "yes",
    "795": "yes",
    "799": "yes",
    "800": "yes",
    "801": "yes",
    "802": "yes",
    "805": "yes",
    "806": "yes",
    "812": "yes",
    "813": "yes",
    "814": "yes",
    "815": "yes",
    "817": "yes",
    "818": "yes",
    "819": "yes",
    "820": "yes",
    "832": "yes",
    "835": "yes",
    "840": "yes",
    "842": "yes",
    "845": "yes",
    "853": "yes",
    "858": "yes",
    "862": "yes",
    "863": "yes",
    "864": "yes",
    "865": "yes",
    "866": "yes",
    "867": "yes",
    "868": "yes",
    "869": "yes",
    "870": "yes",
    "872": "yes",
    "873": "yes",
    "874": "yes",
    "875": "yes",
    "876": "yes",
    "877": "yes",
    "878": "yes",
    "879": "yes",
    "880": "yes",
    "882": "yes",
    "883": "yes",
    "884": "yes",
    "885": "yes",
    "886": "yes",
    "887": "yes",
    "888": "yes",
    "889": "yes",
    "891": "yes",
    "892": "yes",
    "893": "yes",
    "897": "yes",
    "899": "yes",
    "900": "yes",
    "902": "yes",
    "916": "yes",
    "918": "yes",
    "926": "yes",
    "927": "yes",
    "929": "yes",
    "934": "yes",
    "936": "yes",
    "937": "yes",
    "938": "yes",
    "944": "yes",
    "946": "yes",
    "948": "yes",
    "961": "yes",
    "964": "yes",
    "965": "yes",
    "966": "yes",
    "967": "yes",
    "980": "yes",
    "981": "yes",
    "982": "yes",
    "983": "yes",
    "985": "yes",
    "986": "yes",
    "987": "yes",
    "990": "yes",
    "991": "yes",
    "992": "yes",
    "993": "yes",
    "998": "yes",
    "999": "yes",
    "1003": "yes",
    "1010": "yes",
    "1047": "yes",
    "1048": "yes",
    "1059": "yes",
    "1104": "yes",
    "1106": "yes",
    "1107": "yes",
    "1108": "yes",
    "1114": "yes",
    "1116": "yes",
    "1117": "yes",
    "1118": "yes",
    "1119": "yes",
    "1120": "yes",
    "1121": "yes",
    "1132": "yes",
    "1135": "yes",
    "1136": "yes",
    "1137": "yes",
    "1158": "yes",
    "1174": "yes",
    "1179": "yes",
    "1183": "yes",
    "1185": "yes",
    "1187": "yes",
    "1199": "yes",
    "1204": "yes",
    "1218": "yes",
    "1220": "yes",
    "1221": "yes",
    "1222": "yes",
    "1224": "yes",
    "1227": "yes",
    "1229": "yes",
    "1238": "yes",
    "1239": "yes",
    "1248": "yes",
    "1251": "yes",
    "1263": "yes",
    "1271": "yes",
    "1301": "yes",
    "1302": "yes",
    "1306": "yes",
    "1308": "yes",
    "1309": "yes",
    "1311": "yes",
    "1335": "yes",
    "1336": "yes",
    "1342": "yes",
    "1343": "yes"
  },
  "misc": "misc"
};

            
    function showProductListDemoVideos() {
        /* Play-Stop trigger button functionality */
        $('.ProductList').on('click', '.videoDemoBtn', function() {
	        var thisVideoIndex = $(this).attr('class').replace(/\D/g,'');
            if ($(this).hasClass('videoPlaying')) {
                $(this).removeClass('videoPlaying');
                $(this).parent().find('.categoryDemoVideo').remove();
            } else {
                if ($('.ProductList .videoDemoBtn.videoPlaying').length > 1) {
	                $($('.ProductList .videoDemoBtn.videoPlaying')[0]).click();
	            }
            	var productNumber = $(this).parent().find('.ProductCompareButton .CheckBox').attr('value');
                var videoTagCode = '<div class="categoryDemoVideo">' +
                    '<video id="demoVideo'+thisVideoIndex+'" class="video" poster="/content/images/dankstop-loading-running-cat-wbg3.gif" preload autoplay loop autobuffer muted controls width="100%" height="100%" >' +
                    '<source src="/content/videos/' + productNumber + '.mp4" type="video/mp4">' +
                    '<source src="/content/videos/' + productNumber + '.ogv" type="video/ogg">' +
                    '<p>Your browser does not support this video.  Please upgrade your browser!</p>' +
                    '</video>' +
                    '</div>';
                $(this).addClass('videoPlaying');
                $(this).parent().find('.ProductImage').append(videoTagCode);
				var video = document.getElementById('demoVideo'+thisVideoIndex+'');
				video.play();
            }
        });
        /* Visit each product page and check for video options tag, and if tag exists, add a Play/Stop tirgger button */
        var videoIndex = 0;
        $('.ProductCompareButton .CheckBox').each(function checkForVideo(url) {
	        videoIndex++;
            var $thisProductListingItem = $(this).closest('li');
            var fadingPlayBtn = $('<span class="videoDemoBtn video'+videoIndex+'"><div class="triangle"></div></span>').hide().fadeIn(700);
            var productNumber = $(this).attr('value');
            var ProductCatOpt = $(this).parents().eq(3).find('.ProductActionAdd a');
            
			if (DankStopGlossary.videos[productNumber]) {
				console.log(DankStopGlossary.videos[productNumber]);
                $thisProductListingItem.append(fadingPlayBtn);
		    }
/*
            function ajax1() {
                return $.ajax({
                    url: '//dankstop.com/content/videos/' + productNumber + '.mp4',
                    type: 'HEAD',
                }).done(function() {
                    ProductCatOpt.addClass('withVideo');
                });
            }
            $.when(ajax1()).done(function(a1) {
                $thisProductListingItem.append(fadingPlayBtn);
            });
*/
        });
    };
        
    $(window).load(function() {
        showProductListDemoVideos();
    });
</script>